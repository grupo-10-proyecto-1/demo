# üé≠ Sentiment Analysis API - Backend

API REST para an√°lisis de sentimientos, dise√±ada para integrarse con modelos de IA (FastAPI) o funcionar en modo Mock para demostraciones r√°pidas.

## üöÄ Quickstart (30 segundos)

### Prerrequisitos
- Java 17
- Maven (opcional si usas el Wrapper `mvnw` o Docker)
- Docker (opcional)

### Ejecuci√≥n Local
1. Clonar el repositorio.
2. Ejecutar:
   ```bash
   ./mvnw spring-boot:run
   ```
3. Probar:
   ```bash
   curl -X POST http://localhost:8080/sentiment -H "Content-Type: application/json" -d '{"text": "Me encanta este proyecto"}'
   ```

### Ejecuci√≥n con Docker
```bash
docker-compose up --build
```

---

## ‚öôÔ∏è Configuraci√≥n

El comportamiento se controla v√≠a `application.properties` o variables de entorno:

| Variable | Valor | Descripci√≥n |
|----------|-------|-------------|
| `SENTIMENT_MODE` | `mock` | (Por defecto) Devuelve respuestas simuladas aleatorias. Ideal para demos UI. |
| `SENTIMENT_MODE` | `python` | Intenta conectar con el servicio de IA real. |
| `PYTHON_API_BASE_URL` | URL | URL base del servicio FastAPI (ej. `http://localhost:8000`). |

---

## üõ†Ô∏è Endpoints Principales

### 1. Analizar Sentimiento
- **POST** `/sentiment`
- **Body**: `{ "text": "Texto a analizar" }`
- **Response**: `{ "prevision": "POSITIVO", "probabilidad": 0.95 }`

### 2. Health Check
- **GET** `/actuator/health` o `/health` (si est√° configurado)
- Verifica que el servicio est√© arriba.

---

## üêõ Troubleshooting

**Error: "Connection refused" en modo Python**
- Aseg√∫rate de que el servicio de IA est√© corriendo en el puerto 8000.
- Si usas Docker, descomenta el servicio `sentiment-model` en `docker-compose.yml`.

**Error: Java version**
- Este proyecto requiere **Java 17**. Verifica con `java -version`.

---

## üß™ Casos de Prueba (QA)

| Caso | Input | C√≥digo Esperado |
|------|-------|-----------------|
| **√âxito** | `{"text": "Hola mundo"}` | **200 OK** |
| **Error Validaci√≥n** | `{"text": ""}` | **400 Bad Request** |
| **Modelo Ca√≠do** | (Simular apagando Python) | **503 Service Unavailable** |

---

*Proyecto creado para Hackathon NoCountry.*